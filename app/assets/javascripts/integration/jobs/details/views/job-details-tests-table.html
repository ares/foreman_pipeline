<section class="nutupane-sub-section">
  
  <div bst-alert success-messages="successMessages" error-messages="errorMessages"></div>

  <div class="row">
    <div class="col-sm-3">
      <input type="text"
             class="form-control"
             placeholder="{{ 'Filter' | translate }}"
             ng-model="testFilter"/> 
    </div>

    <div class="fr select-action">
      <button class="btn btn-default"
              ng-disabled="testsTable.numSelected === 0"
              ng-show="isState('jobs.details.tests.list') && permitted('edit_jobs', job)"
              ng-click="removeTests(job)">
        <i class="icon-minus" ng-hide="testsTable.working"></i>
        <i class="icon-spinner icon-spin" ng-show="testsTable.working"></i>      
        <span translate>Remove Tests</span>
      </button>

      <button class="btn btn-default"
              ng-disabled="testsTable.numSelected === 0"
              ng-show="isState('jobs.details.tests.available') && permitted('edit_jobs', job)"
              ng-click="addTests(job)">
        <i class="icon-plus" ng-hide="testsTable.working"></i>
        <i class="icon-spinner icon-spin" ng-show="testsTable.working"></i>
        <span translate>Add Tests</span>
      </button>      
    </div>
  </div>

  <div bst-table="testsTable" class="nutupane">
    <div bst-container-scroll bst-infinite-scroll="testsTable.nextPage()">
      
      <div ng-show="testsTable.rows.length === 0">
        <div class="loading-mask" ng-show="testsTable.working">
          <i class="icon-spinner icon-spin"></i>
          {{ 'Loading...' | translate }}
        </div>
        <p class="alert alert-info" ng-hide="testsTable.working" translate>No Tests to show</p>
      </div>

      <table ng-show="testsTable.rows.length > 0"
             ng-class="{'table-mask': testsTable.working}"
             class="table table-full table-striped">
        
        <thead>
          <tr bst-table-head row-select="test">
            <th bst-table-column="name" translate>Name</th>
          </tr>
        </thead>

        <tbody>
          <tr bst-table-row ng-repeat="test in testsTable.rows | filter:testFilter" row-select="test">
            <td bst-table-cell>
              <a ui-sref="tests.details.info({testId: test.id})">{{ test.name }}</a>
            </td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>
</section>